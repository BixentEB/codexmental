<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog Codex – Prototype Menu</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="script.js"></script>
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      display: flex;
    }

    /* Menu vertical */
    #blog-menu {
      width: 60px;
      background: #111;
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.3s ease;
    }

    #blog-menu.closed {
      transform: translateX(-100%);
    }

    #toggle-menu {
      background: none;
      border: none;
      font-size: 1.4rem;
      color: white;
      cursor: pointer;
      margin: 1rem 0;
    }

    #blog-menu ul {
      list-style: none;
      padding: 0;
    }

    .menu-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      color: white;
      cursor: pointer;
      margin: 1rem 0;
    }

    /* Panneaux latéraux */
    #panels {
      position: fixed;
      left: 60px;
      top: 0;
      bottom: 0;
      width: 240px;
      background: #f0f0f0;
      padding: 1rem;
      display: none;
    }

    #panels.active {
      display: block;
    }

    .panel {
      display: none;
    }

    .panel.active {
      display: block;
    }

    /* Blog content */
    #blog-content {
      margin-left: 60px;
      padding: 2rem;
      flex: 1;
    }

    article {
      margin-bottom: 2rem;
      background: #fff;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <!-- Menu vertical -->
  <aside id="blog-menu" class="open">
    <button id="toggle-menu">☰</button>
    <nav>
      <ul>
        <li><button class="menu-btn" data-panel="date">🗓️</button></li>
        <li><button class="menu-btn" data-panel="theme">🧠</button></li>
        <li><button class="menu-btn" data-panel="all">📄</button></li>
        <li><button class="menu-btn" data-panel="search">🔍</button></li>
      </ul>
    </nav>
  </aside>

  <!-- Panneaux latéraux -->
  <section id="panels">
    <div id="panel-date" class="panel">📅 Calendrier ou liste par date</div>
    <div id="panel-theme" class="panel">🧠 Liste par thématique</div>
    <div id="panel-all" class="panel">📄 Tous les articles</div>
    <div id="panel-search" class="panel">
      🔍 <input type="text" id="search-input" placeholder="Rechercher un mot-clé ou #hashtag">
      <div id="search-results"></div>
    </div>
  </section>

  <!-- Contenu principal -->
  <main id="blog-content">
    <article data-date="2025-06-15" data-theme="ia" data-tags="#ia #philosophie">
      <h2>La place de l’IA dans ma vie</h2>
      <p>Cet article explore mon rapport intime avec l’intelligence artificielle...</p>
    </article>
    <article data-date="2025-06-14" data-theme="surfonctionnement" data-tags="#caméléon #introspection">
      <h2>Le syndrome du caméléon</h2>
      <p>Ce texte aborde la manière dont je m’adapte constamment aux autres...</p>
    </article>
  </main>

  <script>
    const toggleBtn = document.getElementById('toggle-menu');
    const blogMenu = document.getElementById('blog-menu');
    const panelWrapper = document.getElementById('panels');
    const panels = document.querySelectorAll('.panel');
    const menuButtons = document.querySelectorAll('.menu-btn');

    toggleBtn.addEventListener('click', () => {
      blogMenu.classList.toggle('closed');
    });

    menuButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        panelWrapper.classList.add('active');
        panels.forEach(p => p.classList.remove('active'));
        const panel = document.getElementById(`panel-${btn.dataset.panel}`);
        if (panel) panel.classList.add('active');
      });
    });

    // Recherche simple par mot-clé ou #hashtag
    const searchInput = document.getElementById('search-input');
    const resultsContainer = document.getElementById('search-results');
    const articles = document.querySelectorAll('article');

    searchInput?.addEventListener('input', () => {
      const query = searchInput.value.toLowerCase();
      resultsContainer.innerHTML = '';

      articles.forEach(article => {
        const text = article.textContent.toLowerCase();
        const tags = article.dataset.tags?.toLowerCase() || '';

        if (text.includes(query) || tags.includes(query)) {
          const clone = article.cloneNode(true);
          resultsContainer.appendChild(clone);
        }
      });

      if (resultsContainer.innerHTML === '') {
        resultsContainer.innerHTML = '<p>Aucun résultat trouvé.</p>';
      }
    });
  </script>
</body>
</html>
