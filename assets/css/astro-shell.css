/* ASTRO SHELL — verre clair, compact, neutre (thème = coque ; météo = couleurs physiques) */

:root{
  --aw-maxw: 800px;
  --aw-radius: 16px;
  --aw-pad: 12px;
  --aw-gap: 12px;

  /* Coque (réagit à tes vars de thème si présentes) */
  --aw-glass-bg: color-mix(in oklab, #ffffff 65%, transparent);
  --aw-glass-border: color-mix(in oklab, var(--accent-primary, #8fd3ff) 18%, #000 82%);
  --aw-shadow: rgba(0,0,0,.12);
  --aw-text: var(--text-color, #e8f2ff);
  --aw-muted: color-mix(in oklab, var(--text-color, #e8f2ff) 45%, transparent);

  /* Palette physique (non teintée par thème) */
  --sky-sun: #ffd76a;
  --sky-halo: #ffe9a6;
  --sky-cloud-light: #ffffff;
  --sky-cloud-dark: #aeb7c2;
  --sky-rain: #7aa5d6;
  --sky-snow: #f6faff;
  --sky-bolt: #e9f2ff;

  --solar-arc: #cfd9e6;
  --solar-dot: #ffd76a;

  --moon-disk: #f2f2f2;
  --moon-shadow: #0b1120;
}

#astro-shell{
  width: min(100%, var(--aw-maxw));
  margin: clamp(14px, 3vh, 24px) auto;
  color: var(--aw-text);
  font-size: clamp(.95rem, .9rem + .2vw, 1rem);
}

.aw-wrap{
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap: var(--aw-gap);
}
@media (max-width: 720px){
  .aw-wrap{ grid-template-columns: 1fr; }
}

.aw-box{
  position:relative;
  border:1px solid var(--aw-glass-border);
  border-radius: var(--aw-radius);
  padding: var(--aw-pad);
  background: color-mix(in oklab, var(--aw-glass-bg) 85%, transparent);
  box-shadow: 0 10px 30px var(--aw-shadow);
  backdrop-filter: blur(8px);
  min-height: 120px; /* compact */
}

.aw-meta{
  display:flex; gap:8px; align-items:center; justify-content:space-between;
  color: var(--aw-muted);
  margin-top: 8px;
}

.aw-sep{ opacity:.5 }

/* VIZ canvas */
.aw-viz svg{ width:100%; height:150px; display:block; }
@media (max-width:720px){ .aw-viz svg{ height:140px; } }

/* Animations */
@keyframes aw-cloud-drift { from{ transform: translateX(-8%)} to{ transform: translateX(8%)} }
@keyframes aw-sun-breathe { 0%{ transform: scale(1)} 50%{ transform: scale(1.03)} 100%{ transform: scale(1)} }
@keyframes aw-rain-fall { to{ transform: translateY(110%)} }
@keyframes aw-snow-fall { to{ transform: translateY(110%) rotate(10deg)} }
@keyframes aw-bolt-flash {
  0%, 92% { opacity: 0; filter: drop-shadow(0 0 0 rgba(255,255,255,0)); }
  94% { opacity: 1; filter: drop-shadow(0 0 6px rgba(255,255,255,.6)); }
  100% { opacity: 0; }
}

/* Primitives météo (physiques) */
.aw-cloud{ fill: var(--sky-cloud-light); opacity:.95; }
.aw-cloud--dark{ fill: var(--sky-cloud-dark); opacity:.9; }
.aw-cloud.anim { animation: aw-cloud-drift 8s ease-in-out infinite alternate; }

.aw-sun{ fill: var(--sky-sun); transform-origin:center; }
.aw-sun-halo{ fill: var(--sky-halo); opacity:.25; }
.aw-sun.anim{ animation: aw-sun-breathe 6s ease-in-out infinite; }

.aw-rain line{ stroke: var(--sky-rain); stroke-width:2; stroke-linecap:round; opacity:.8; }
.aw-rain line.anim{ animation: aw-rain-fall var(--d,800ms) linear var(--delay,0ms) infinite; }

.aw-snow circle{ fill: var(--sky-snow); opacity:.95; }
.aw-snow circle.anim{ animation: aw-snow-fall var(--d,1600ms) linear var(--delay,0ms) infinite; }

.aw-bolt{ fill: var(--sky-bolt); opacity:0; }
.aw-bolt.anim{ animation: aw-bolt-flash 2.8s steps(2,end) infinite; }

/* Solaire */
.aw-arc{ stroke: var(--solar-arc); stroke-width:2; fill:none; opacity:.9; }
.aw-dot{ fill: var(--solar-dot); }

/* Lunaire */
.aw-moon-disk{ fill: var(--moon-disk); }
.aw-moon-shadow{ fill: var(--moon-shadow); }
