/* ASTRO SHELL — verre clair, listes stables, météo physique */

:root{
  --aw-maxw: 800px;
  --aw-radius: 16px;
  --aw-pad: 12px;
  --aw-gap: 12px;

  /* ... */
  --aw-text: var(--text-primary, #e8f2ff);
  /* ancien --aw-muted remplacé par un atténué lisible */
  --aw-muted: color-mix(in oklab, var(--aw-text) 75%, transparent);

  /* Vitre plus légère */
  /* vitre inchangée OU plus légère si besoin */
  --aw-glass-bg: rgba(255,255,255,.12);
  --aw-glass-border: rgba(255,255,255,.20);
  --aw-shadow: rgba(0,0,0,.10);

  /* Météo (physique) */
  --sky-sun: #ffd76a;
  --sky-halo: #ffe9a6;
  --sky-cloud-light: #ffffff;
  --sky-cloud-dark: #aeb7c2;
  --sky-rain: #7aa5d6;
  --sky-snow: #f6faff;
  --sky-bolt: #e9f2ff;

  --solar-arc: #cfd3de;
  --solar-dot: #ffd76a;

  --moon-disk: #f2f2f2;
  --moon-shadow: #0b1120;
}

#astro-shell{
  width: min(100%, var(--aw-maxw));
  margin: clamp(14px, 3vh, 24px) auto;
  color: var(--aw-text);
  font-size: clamp(.95rem, .9rem + .2vw, 1rem);
}

.aw-wrap{
  display:grid;
  grid-template-columns: 1.15fr .85fr; /* data un peu plus large */
  gap: var(--aw-gap);
}
@media (max-width: 720px){
  .aw-wrap{ grid-template-columns: 1fr; }
}

.aw-box{
  position:relative;
  border:1px solid var(--aw-glass-border);
  border-radius: var(--aw-radius);
  padding: var(--aw-pad) calc(var(--aw-pad) + 2px);
  background: var(--aw-glass-bg);
  box-shadow: 0 10px 24px var(--aw-shadow);
  backdrop-filter: blur(8px) saturate(110%);
  min-height: 110px;
}

.aw-meta{
  display:flex; gap:8px; align-items:center; justify-content:space-between;
  color: var(--aw-muted); margin-top: 8px;
}
.aw-sep{ opacity:.5 }

/* ====== INFOS: listes stables ====== */
/* Bloc données : petit header ville + heure */
.aw-data .aw-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:4px;
  font-size:.88em;
  color: var(--aw-muted);
}
.aw-data .aw-title{ font-weight:600; color: var(--aw-text); margin: 0 0 4px 0; }
.aw-list{ list-style:none; padding:0; margin:0; display:grid; gap:6px; }
.aw-item{ display:flex; gap:10px; align-items:center; color: var(--aw-muted); }
.aw-item strong{ color: var(--aw-text); font-weight:600; }
.aw-item .tag{ opacity:.9 }

/* ====== VIZ ====== */
.aw-viz svg{ width:100%; height:140px; display:block; } /* un peu plus compact */
@media (max-width:720px){ .aw-viz svg{ height:136px; } }

/* Animations */
@keyframes aw-cloud-sweep { from{ transform: translateX(-20%) } to{ transform: translateX(120%) } }
@keyframes aw-bob { 0%,100%{ transform: translateY(0) } 50%{ transform: translateY(-2px) } }
@keyframes aw-sun-breathe { 0%{ transform:scale(1)} 50%{ transform:scale(1.03)} 100%{ transform:scale(1)} }
@keyframes aw-rain-fall { to{ transform: translateY(110%)} }
@keyframes aw-snow-fall { to{ transform: translateY(110%) rotate(10deg)} }
@keyframes aw-bolt-flash { 0%,92%{opacity:0} 94%{opacity:1} 100%{opacity:0} }

/* Nuages */
.aw-cloud{ fill: var(--sky-cloud-light); opacity:.96; }
.aw-cloud--dark{ fill: var(--sky-cloud-dark); opacity:.9; }
.aw-layer{ animation: aw-cloud-sweep var(--windDur, 12s) linear infinite; }
.aw-front{ animation-duration: calc(var(--windDur, 12s) * .85); }
.aw-bob{ animation: aw-bob 6s ease-in-out infinite; }

/* Soleil / précipitations / éclairs */
.aw-sun{ fill: var(--sky-sun); transform-origin:center; }
.aw-sun-halo{ fill: var(--sky-halo); opacity:.25; }
.aw-sun.anim{ animation: aw-sun-breathe 6s ease-in-out infinite; }

.aw-rain line{ stroke: var(--sky-rain); stroke-width:2; stroke-linecap:round; opacity:.85; }
.aw-rain line.anim{ animation: aw-rain-fall var(--d,900ms) linear var(--delay,0ms) infinite; }

.aw-snow circle{ fill: var(--sky-snow); opacity:.95; }
.aw-snow circle.anim{ animation: aw-snow-fall var(--d,1700ms) linear var(--delay,0ms) infinite; }

.aw-bolt{ fill: var(--sky-bolt); opacity:0; filter: drop-shadow(0 0 6px rgba(255,255,255,.5)); }
.aw-bolt.anim{ animation: aw-bolt-flash 2.8s steps(2,end) infinite; }

/* Solaire */
.aw-arc{ stroke: var(--solar-arc); stroke-width:1.8; fill:none; opacity:.9; }
.aw-dot{ fill: var(--solar-dot); }

/* Lunaire */
.aw-moon-disk{ fill: var(--moon-disk); }
.aw-moon-shadow{ fill: var(--moon-shadow); }
